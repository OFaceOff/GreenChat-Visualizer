<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GreenChat Visualizer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="assets/styles/style.css">
</head>
<body class="h-screen w-screen overflow-hidden flex justify-center items-start md:items-center pt-0 md:pt-5">

    <div class="green-accent-strip"></div>

    <div class="app-window bg-white w-full h-full md:w-[1300px] md:h-[95vh] flex overflow-hidden relative z-10 md:min-w-[900px]">

        <div id="sidebar" class="sidebar w-full md:w-[400px] lg:w-[450px] border-r border-[#e9edef] flex flex-col bg-white h-full shrink-0 transition-all z-20">
            
            <div class="bg-[#f0f2f5] px-4 py-2.5 flex justify-between items-center h-[59px] shrink-0 border-r border-[#d1d7db]">
                <div class="w-10 h-10 rounded-full bg-gray-300 overflow-hidden cursor-pointer border border-gray-100">
                    <img src="https://i.pravatar.cc/150?img=68" alt="User" class="w-full h-full object-cover">
                </div>
                
                <div class="flex gap-1 items-center">
                    <input type="file" id="fileInput" accept=".txt" class="hidden" onchange="handleFileUpload(event)">
                    
                    <button onclick="document.getElementById('fileInput').click()" 
                            class="icon-btn mr-1" 
                            title="Carregar arquivo .txt">
                        <i data-lucide="upload" class="w-5 h-5"></i>
                    </button>
                    
                    <button class="icon-btn" title="Nova Conversa"><i data-lucide="message-square-plus" class="w-5 h-5"></i></button>
                    <button class="icon-btn" title="Menu"><i data-lucide="more-vertical" class="w-5 h-5"></i></button>
                </div>
            </div>

            <div class="px-3 py-2 border-b border-[#e9edef] bg-white h-[49px] flex items-center">
                <div class="bg-[#f0f2f5] rounded-lg px-3 h-[35px] w-full flex items-center gap-4 transition-all focus-within:bg-white focus-within:shadow-sm focus-within:ring-1 focus-within:ring-[#00a884]">
                    <i data-lucide="search" class="w-4 h-4 text-[#54656f] shrink-0"></i>
                    <input type="text" id="searchInput" placeholder="Pesquisar ou começar uma nova conversa" class="bg-transparent border-none outline-none text-[14px] w-full placeholder-[#54656f] text-[#3b4a54]">
                </div>
            </div>

            <div id="contactList" class="flex-1 overflow-y-auto bg-white">
                <div class="flex flex-col items-center justify-center mt-20 px-10 text-center opacity-80">
                    <div class="bg-[#f0f2f5] p-4 rounded-full mb-4">
                        <i data-lucide="file-down" class="w-8 h-8 text-[#00a884]"></i>
                    </div>
                    <h3 class="text-[#3b4a54] font-medium mb-1">Carregue suas conversas</h3>
                    <p class="text-[#8696a0] text-sm">Clique no ícone de upload acima e selecione um arquivo .txt para visualizar.</p>
                </div>
            </div>
        </div>

        <div id="chatArea" class="chat-area flex flex-col flex-1 bg-[#efeae2] h-full relative z-10">
            
            <div id="emptyState" class="hidden md:flex flex-col items-center justify-center h-full w-full bg-[#f0f2f5] border-b-[6px] border-[#25d366] text-center px-10 relative z-30">
                <div class="max-w-[560px] flex flex-col items-center">
                    <div class="mb-10 opacity-90 scale-110">
                        <svg viewBox="0 0 200 200" width="200" height="200" class="text-[#e9edef] fill-current">
                             <path fill="#e6e8eb" d="M100,20 C55.8,20 20,55.8 20,100 C20,144.2 55.8,180 100,180 C144.2,180 180,144.2 180,100 C180,55.8 144.2,20 100,20 M100,0 C155.2,0 200,44.8 200,100 C200,155.2 155.2,200 100,200 C44.8,200 0,155.2 0,100 C0,44.8 44.8,0 100,0" />
                             <path fill="#cfd3d6" d="M60,70 L140,70 L140,110 L60,110 Z" opacity="0.5"/>
                             <circle cx="100" cy="140" r="10" fill="#25d366" />
                        </svg>
                    </div>
                    <h1 class="text-[32px] font-light text-[#41525d] mb-4">GreenChat Visualizer</h1>
                    <p class="text-[#667781] text-[14px] leading-6 mb-8">
                        Visualize e preserve seus históricos de conversa com facilidade.<br>
                        Importe arquivos de texto exportados e navegue pelas suas memórias de forma organizada.
                    </p>
                    <div class="flex items-center gap-2 text-[#8696a0] text-xs">
                        <i data-lucide="lock" class="w-3 h-3"></i> Seus dados são processados localmente no navegador
                    </div>
                </div>
            </div>

            <div id="chatContent" class="hidden flex-col h-full w-full relative bg-transparent">
                
                <div class="bg-[#f0f2f5] px-4 py-2.5 flex justify-between items-center h-[59px] shrink-0 border-b border-[rgba(0,0,0,0.05)] z-20 w-full absolute top-0 left-0">
                    <div class="flex items-center gap-3 overflow-hidden">
                        <button onclick="closeChat()" class="md:hidden text-[#54656f] mr-1">
                            <i data-lucide="arrow-left" class="w-6 h-6"></i>
                        </button>
                        
                        <div class="w-10 h-10 rounded-full bg-gray-200 overflow-hidden cursor-pointer shrink-0">
                            <img id="headerAvatar" src="" alt="Avatar" class="w-full h-full object-cover">
                        </div>
                        <div class="flex flex-col justify-center cursor-pointer overflow-hidden">
                            <span id="headerName" class="text-[#111b21] font-normal text-[16px] leading-tight truncate">Nome do Contato</span>
                            <span id="headerInfo" class="text-[#667781] text-[13px] mt-0.5 truncate">clique para dados do contato</span>
                        </div>
                    </div>
                    <div class="flex gap-2 items-center text-[#54656f]">
                        <button class="icon-btn"><i data-lucide="search" class="w-5 h-5"></i></button>
                        <button class="icon-btn"><i data-lucide="more-vertical" class="w-5 h-5"></i></button>
                    </div>
                </div>

                <div id="messagesContainer" class="chat-background flex-1 overflow-y-auto p-4 md:p-9 md:px-[8%] flex flex-col gap-1 pt-[70px] pb-[10px]">
                </div>

                <div class="bg-[#f0f2f5] px-4 py-2 flex items-center gap-3 min-h-[62px] shrink-0 z-20 border-t border-[rgba(0,0,0,0.05)]">
                    <button class="icon-btn"><i data-lucide="smile" class="w-6 h-6 text-[#54656f]"></i></button>
                    <button class="icon-btn"><i data-lucide="plus" class="w-6 h-6 text-[#54656f]"></i></button>
                    
                    <div class="flex-1 bg-white rounded-lg px-4 py-2.5 mx-2 shadow-sm border border-transparent">
                        <input type="text" disabled placeholder="Somente leitura (arquivo importado)" class="w-full bg-transparent border-none outline-none text-[15px] text-[#3b4a54] placeholder:text-[#8696a0] cursor-not-allowed">
                    </div>
                    
                    <button class="icon-btn"><i data-lucide="mic" class="w-6 h-6 text-[#54656f]"></i></button>
                </div>
            </div>

        </div>
    </div>
    
    <script src="assets/scripts/script.js"></script>
</body>
</html>